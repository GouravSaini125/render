(this.webpackJsonprecord=this.webpackJsonprecord||[]).push([[0],{38:function(e,t,n){},40:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n(1),a=n.n(c),o=n(27),i=n.n(o),s=(n(38),n(10)),u=n.n(s),d=n(15),l=n(32),v=(n(40),n(29)),f=n(0),h=n(28),m=n.n(h),g=n(30),p=n(2),x=n(11);function b(e){var t=e.match,n=Object(c.useState)(null),a=Object(l.a)(n,2),o=a[0],i=a[1],s=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,c,a,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.querySelectorAll("video"),r=u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[t],e.next=3,new Promise((function(e){var t=function t(c){r.width=c.target.videoWidth,r.height=c.target.videoHeight,4===c.target.readyState&&(r.removeEventListener("canplaythrough",t),r.removeEventListener("error",n),e())},n=function n(c){r.removeEventListener("canplaythrough",t),r.removeEventListener("error",n),e()};4===r.readyState?e():(r.addEventListener("canplaythrough",t),r.addEventListener("error",n))}));case 3:case"end":return e.stop()}}),e)})),c=0;case 3:if(!(c<n.length)){e.next=8;break}return e.delegateYield(r(c),"t0",5);case 5:c++,e.next=3;break;case 8:a=document.querySelectorAll(".video .scene"),document.querySelectorAll(".video .scene .stagger"),o=new f.d({paused:!0}),i=a[0].querySelector("video"),a.forEach((function(e,n){var r=new f.d;r.set(e,{css:{zIndex:1}}),t.slides[n].bgVideo?r.fromTo(e.querySelector("video"),{currentTime:0},{ease:f.b.easeNone,currentTime:5,duration:5}).call((function(){return i=e.querySelector("video")}),{},0):r.to(e.querySelector("img"),5,{ease:f.b.easeNone,scale:1.16}),r.fromTo(e.querySelector(".text"),{x:-e.querySelector(".text").clientWidth},{x:0,duration:2},0),o.add(r)})),window.progress=function(e){return new Promise(function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.progress(e),t.next=3,i.play();case 3:return t.next=5,i.pause();case 5:n();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=t.params,n=e.email,r=e.id;m.a.get("/api/videos/".concat(n,"/video/").concat(r)).then((function(e){console.log(e.data),i(e.data),s(e.data)})).catch((function(e){return console.error(e)}))}),[]),Object(r.jsx)("div",{className:"video",children:o&&o.slides.map((function(e,t){return t<20?Object(r.jsxs)("div",{className:"scene",children:[e.bgVideo?Object(r.jsx)("video",{src:"".concat(e.bgVideo,"#t=0,10"),loop:!0,crossOrigin:"anonymous",muted:!0}):Object(r.jsx)("img",{src:e.bgImage,alt:""}),Object(r.jsx)("div",{className:"cont",children:Object(r.jsx)("div",{className:"text",children:e.textBoxes[0].text})})]},e.id):""}))})}function j(){return Object(r.jsx)(g.a,{children:Object(r.jsx)(p.a,{exact:!0,path:"/:email/:id",component:Object(p.e)(b)})})}v.a.registerPlugin(x.a);var y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(j,{})}),document.getElementById("root")),y()}},[[63,1,2]]]);
//# sourceMappingURL=main.e2c386ae.chunk.js.map