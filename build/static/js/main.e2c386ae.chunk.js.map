{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","match","useState","video","setVideo","handleLoad","a","videos","document","querySelectorAll","i","v","Promise","resolve","handleVidLoad","e","width","target","videoWidth","height","videoHeight","readyState","removeEventListener","handleVideoError","addEventListener","length","scenes","tl","TimelineMax","paused","currentVideo","querySelector","forEach","scene","t","set","css","zIndex","slides","bgVideo","fromTo","currentTime","ease","Power0","easeNone","duration","call","to","scale","x","clientWidth","add","window","progress","current","play","pause","useEffect","params","email","id","axios","get","then","res","console","log","data","catch","err","error","className","map","slide","src","loop","crossOrigin","muted","bgImage","alt","textBoxes","text","Routes","exact","path","component","withRouter","gsap","registerPlugin","CSSPlugin","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e2c386ae.chunk.js","sourcesContent":["import './App.css';\nimport {Power0, TimelineMax, gsap} from \"gsap\";\nimport React, {useEffect, useState} from \"react\";\nimport axios from 'axios';\nimport {BrowserRouter, Route, withRouter} from 'react-router-dom'\nimport { CSSPlugin } from 'gsap/CSSPlugin'\ngsap.registerPlugin(CSSPlugin)\n\nfunction App({match}) {\n\n    // const [video, setVideo] = useState({\n    //     \"title\": \"Untitled Video\",\n    //     \"url\": null,\n    //     \"thumbnail\": \"https://storage.googleapis.com/web-dev-qv/user-videos/mailtogouravsaini@gmail.com/thumbnails/5fdac88f242ee964fa808bab.png\",\n    //     \"id\": \"5fdac88f242ee964fa808bab\",\n    //     \"slides\": [\n    //         {\n    //             \"textBoxes\": [\n    //                 {\n    //                     \"id\": \"HsQqcqdb\",\n    //                     \"text\": \"How Much Money Food Bloggers Make To Develop A Recipe.\",\n    //                     \"backgroundColor\": \"#6E6E6EAA\",\n    //                     \"fill\": \"white\",\n    //                     \"fontSize\": 30\n    //                 }\n    //             ],\n    //             \"id\": \"5fdac88f242ee9af0b808bac\",\n    //             \"bgImage\": null,\n    //             \"bgVideo\": \"https://player.vimeo.com/external/231571956.hd.mp4?s=1bcf24d2c963be2a5be98cd1f19cefa9728832ba&profile_id=174\",\n    //             \"bgProps\": {},\n    //             \"duration\": 4000\n    //         },\n    //         {\n    //             \"textBoxes\": [\n    //                 {\n    //                     \"id\": \"QzLpBHwE\",\n    //                     \"text\": \"If you���ve ever noticed that a blog post is labeled ���sponsored, ��� it���s typically because the blogger partnered up with a brand (i. e. One of the ways they earn money is by developing recipes for brands.\",\n    //                     \"backgroundColor\": \"#6E6E6EAA\",\n    //                     \"fill\": \"white\",\n    //                     \"fontSize\": 30\n    //                 }\n    //             ],\n    //             \"id\": \"5fdac88f242ee9c194808bad\",\n    //             \"bgImage\": null,\n    //             \"bgVideo\": \"https://player.vimeo.com/external/257068818.hd.mp4?s=518f6d2fcbb47d0a6cb1e312a56166f6acca77cc&profile_id=169\",\n    //             \"bgProps\": {},\n    //             \"duration\": 6000\n    //         },\n    //         {\n    //             \"textBoxes\": [\n    //                 {\n    //                     \"id\": \"0XYvNpx9\",\n    //                     \"text\": \"She���s even tested some recipes eight times!The work that goes into developing recipes is worth it for Biddle, though.\",\n    //                     \"backgroundColor\": \"#6E6E6EAA\",\n    //                     \"fill\": \"white\",\n    //                     \"fontSize\": 30\n    //                 }\n    //             ],\n    //             \"id\": \"5fdac88f242ee9e196808bae\",\n    //             \"bgImage\": null,\n    //             \"bgVideo\": \"https://player.vimeo.com/external/396487973.hd.mp4?s=9a638732f81c0cf7641c7c44c9bc1a61b1bf8f74&profile_id=174\",\n    //             \"bgProps\": {},\n    //             \"duration\": 6000\n    //         },\n    //         {\n    //             \"textBoxes\": [\n    //                 {\n    //                     \"id\": \"wTseLpRk\",\n    //                     \"text\": \"As my traffic grew and my photography improved, I began charging brands for recipe development, ��� Anderson said.\",\n    //                     \"backgroundColor\": \"#6E6E6EAA\",\n    //                     \"fill\": \"white\",\n    //                     \"fontSize\": 30\n    //                 }\n    //             ],\n    //             \"id\": \"5fdac88f242ee933a3808baf\",\n    //             \"bgImage\": null,\n    //             \"bgVideo\": \"https://player.vimeo.com/external/378294357.hd.mp4?s=f1b339b860c6e63700ee8daa135174b15c08c9eb&profile_id=174\",\n    //             \"bgProps\": {},\n    //             \"duration\": 6000\n    //         },\n    //         {\n    //             \"textBoxes\": [\n    //                 {\n    //                     \"id\": \"xvF4EAxf\",\n    //                     \"text\": \"Now she develops sponsored recipes a couple times a month, typically earning at least $5, 000 per recipe, and works with brands like Sabra, Meijer (a supermarket chain) and Dole.\",\n    //                     \"backgroundColor\": \"#6E6E6EAA\",\n    //                     \"fill\": \"white\",\n    //                     \"fontSize\": 30\n    //                 }\n    //             ],\n    //             \"id\": \"5fdac88f242ee907b4808bb0\",\n    //             \"bgImage\": null,\n    //             \"bgVideo\": \"https://player.vimeo.com/external/396487978.hd.mp4?s=6a7f285b233b9fa0f248142b2f0ea898a22a1549&profile_id=174\",\n    //             \"bgProps\": {},\n    //             \"duration\": 6000\n    //         },\n    //         {\n    //             \"textBoxes\": [\n    //                 {\n    //                     \"id\": \"QGjUpc9D\",\n    //                     \"text\": \"The hobby blogger-turned-entrepreneur now runs her blog full-time and charges from $1, 250 to over five figures for recipe development.\",\n    //                     \"backgroundColor\": \"#6E6E6EAA\",\n    //                     \"fill\": \"white\",\n    //                     \"fontSize\": 30\n    //                 }\n    //             ],\n    //             \"id\": \"5fdac88f242ee9bd45808bb1\",\n    //             \"bgImage\": null,\n    //             \"bgVideo\": \"https://player.vimeo.com/external/396488004.hd.mp4?s=247786b12df6826d3979d7cd510bde554ee3aa39&profile_id=174\",\n    //             \"bgProps\": {},\n    //             \"duration\": 6000\n    //         }\n    //     ],\n    //     \"aspectRatio\": 1,\n    //     \"audio\": null,\n    //     \"updated_at\": \"2020-12-17T02:55:13.373Z\",\n    //     \"created_at\": \"2020-12-17T02:55:11.666Z\"\n    // });\n\n    const [video, setVideo] = useState(null);\n\n    // useEffect(() => {\n    //     axios.get(`/api/videos/mailtogouravsaini@gmail.com/video/5fdac88f242ee964fa808bab`)\n    //         .then(res => setVideo(res.data))\n    //         .catch(err => console.error(err))\n    // }, [])\n\n    const handleLoad = async (video) => {\n\n        const videos = document.querySelectorAll(\"video\");\n        for (let i = 0; i < videos.length; i++) {\n            const v = videos[i]\n            await new Promise(resolve => {\n                const handleVidLoad = (e) => {\n                    v.width = e.target.videoWidth;\n                    v.height = e.target.videoHeight;\n                    if (e.target.readyState === 4) {\n                        v.removeEventListener(\"canplaythrough\", handleVidLoad);\n                        v.removeEventListener(\"error\", handleVideoError);\n                        resolve();\n                    }\n                }\n                const handleVideoError = (e) => {\n                    v.removeEventListener(\"canplaythrough\", handleVidLoad);\n                    v.removeEventListener(\"error\", handleVideoError);\n                    resolve();\n                }\n\n                if (v.readyState === 4) {\n                    resolve();\n                } else {\n                    v.addEventListener(\"canplaythrough\", handleVidLoad);\n                    v.addEventListener(\"error\", handleVideoError);\n                }\n            });\n        }\n\n        const scenes = document.querySelectorAll(\".video .scene\");\n        const texts = document.querySelectorAll(\".video .scene .stagger\");\n\n        let tl = new TimelineMax({paused: true});\n\n        let currentVideo = scenes[0].querySelector(\"video\");\n\n        scenes.forEach((scene, i) => {\n            let t = new TimelineMax();\n            t\n                .set(scene, {css: {zIndex: 1}})\n\n            if (video.slides[i].bgVideo) {\n                t\n                    .fromTo(scene.querySelector(\"video\"), {currentTime: 0}, {\n                        ease: Power0.easeNone,\n                        currentTime: 5,\n                        duration: 5,\n                    })\n                    .call(() => currentVideo = scene.querySelector(\"video\"), {}, 0)\n\n                // t\n                //     .call(() => scene.querySelector(\"video\").play())\n                //     .call(() => scene.querySelector(\"video\").pause(), {}, 6)\n            } else {\n                t.to(scene.querySelector(\"img\"), 5, {\n                    ease: Power0.easeNone, scale: 1.16,\n                })\n            }\n\n            t\n                .fromTo(scene.querySelector(\".text\"), {x: -scene.querySelector(\".text\").clientWidth}, {\n                    x: 0,\n                    duration: 2,\n                }, 0)\n\n            // let text = texts[i];\n            // text.innerHTML = text.innerHTML.replace(/./g, \"<span>$&</span>\").replace(/\\s/g, \"&nbsp;\");\n            // t\n            //     .staggerFromTo(text.querySelectorAll(\"span\"), 0.4, {\n            //         autoAlpha: 0,\n            //         rotationX: -90,\n            //         top: \"-30px\",\n            //     }, {\n            //         autoAlpha: 1,\n            //         rotationX: 0,\n            //         top: \"0px\"\n            //     }, 0.009, 0);\n\n            tl.add(t)\n        });\n\n\n        window.progress = current => new Promise(async (resolve) => {\n            tl.progress(current);\n            await currentVideo.play()\n            await currentVideo.pause()\n            resolve()\n        });\n\n        // tl.play();\n\n        // const fps = 30, duration = 5 * scenes.length;\n        // let current = 0;\n        //\n        // async function start() {\n        //     // const interval = setInterval(() => {\n        //     tl.progress(current);\n        //     current += 1 / fps / duration\n        //     // currentVideo.currentTime += 1 / 30;\n        //     await currentVideo.play()\n        //     await currentVideo.pause()\n        //     if (current > 1)\n        //         return\n        //     //     clearInterval(interval)\n        //     console.log(current)\n        //     start()\n        //     // }, 100)\n        // }\n        //\n        // start()\n\n    }\n\n    useEffect(() => {\n        const {params: {email,id}} = match;\n        axios.get(`/api/videos/${email}/video/${id}`)\n            .then(res => {\n                console.log(res.data)\n                setVideo(res.data)\n                handleLoad(res.data)\n            })\n            .catch(err => console.error(err))\n    }, [])\n\n    return (\n        <div className=\"video\">\n            {\n                video && (\n                    video.slides.map((slide, i) => i < 20 ? (\n                        <div className=\"scene\" key={slide.id}>\n                            {\n                                slide.bgVideo ?\n                                    <video src={`${slide.bgVideo}#t=0,10`} loop={true} crossOrigin=\"anonymous\" muted/> :\n                                    <img src={slide.bgImage} alt=\"\"/>\n                            }\n                            <div className=\"cont\">\n                                <div className=\"text\">{slide.textBoxes[0].text}</div>\n                            </div>\n                            {/*<div className=\"text stagger\">{slide.textBoxes[0].text}</div>*/}\n                        </div>\n                    ) : \"\")\n                )\n            }\n        </div>\n    );\n}\n\nexport default function Routes() {\n    return (\n        <BrowserRouter>\n            <Route exact path=\"/:email/:id\" component={withRouter(App)}/>\n        </BrowserRouter>\n    )\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}